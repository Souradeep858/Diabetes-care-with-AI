<!DOCTYPE html>
<html lang="{{ current_language }}">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ _('Diabetes Care Home') }}</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* 3D Text Effect */
    .text-3d {
      color: #2563eb;
      text-shadow:
        1px 1px 0 #1e40af,
        2px 2px 0 #1e40af,
        3px 3px 0 #1e40af,
        4px 4px 10px rgba(30, 64, 175, 0.7);
      transform-style: preserve-3d;
      animation: textFloat 3s ease-in-out infinite alternate;
    }
    @keyframes textFloat {
      0% { transform: translateY(0); }
      100% { transform: translateY(-8px); }
    }

    .animate-scale-up {
      animation: scaleUp 2.5s ease-in-out infinite alternate;
    }
    @keyframes scaleUp {
      0% { transform: scale(1); }
      100% { transform: scale(1.1); }
    }

    .btn-3d {
      transition: transform 0.3s ease;
    }
    .btn-3d:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 30px rgba(37, 99, 235, 0.4);
    }

    .floating-img {
      animation: floatUpDown 4s ease-in-out infinite;
    }
    @keyframes floatUpDown {
      50% { transform: translateY(-15px); }
    }
    
    .lang-dropdown {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.2s ease-out;
    }
    .lang-dropdown.show {
      max-height: 300px;
    }
  </style>
</head>

<body class="min-h-screen flex flex-col font-sans bg-gray-50 text-gray-800">

  <!-- Header -->
  <header class="bg-blue-700 text-white shadow-lg sticky top-0 z-50">
    <div class="max-w-7xl mx-auto flex justify-between items-center py-4 px-6">
      <h1 class="text-4xl font-extrabold text-3d hover:scale-[1.03] transition-transform duration-300">
        <a href="/" class="flex items-center gap-3 cursor-pointer no-underline">
        {{ _('Diabetes Care') }}
        </a>
      </h1>
      <nav class="flex items-center gap-4">
        <ul class="flex space-x-6 text-lg font-semibold">
          <li><a href="/" class="hover:text-blue-300">{{ _('Home') }}</a></li>
          <li><a href="/index" class="hover:text-blue-300">{{ _('Prediction') }}</a></li>
          <li><a href="/life" class="hover:text-blue-300">{{ _('Lifestyle Check') }}</a></li>
          <li><a href="/chatbot" class="hover:text-blue-300">{{ _('Chatbot') }}</a></li>
          <li><a href="/explore" class="hover:text-blue-300">{{ _('Explore Data') }}</a></li>
          <li><a href="/forum" class="hover:text-blue-300">{{ _('Forum') }}</a></li>
        </ul>
        <!-- Language Selector -->
        <div class="relative ml-4">
          <button id="lang-btn" class="flex items-center space-x-1 px-3 py-1 rounded hover:bg-blue-600 transition text-sm">
            <span>{{ languages.get(current_language, 'English') }}</span>
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div id="lang-dropdown" class="lang-dropdown absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg z-50">
            {% for code, name in languages.items() %}
            <button onclick="setLanguage('{{ code }}')" 
                    class="block w-full text-left px-4 py-2 text-gray-800 hover:bg-blue-100 text-sm {% if code == current_language %}bg-blue-50 font-semibold{% endif %}">
              {{ name }}
            </button>
            {% endfor %}
          </div>
        </div>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <main class="flex-grow bg-gradient-to-br from-blue-200 to-white px-6 py-24">
    <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center gap-16">

      <!-- Image -->
      <div class="max-w-xl floating-img">
        <img src="/static/doctor.png" alt="{{ _('Doctor illustration') }}" class="w-full h-auto" />
      </div>

      <!-- Text -->
      <div class="max-w-xl text-center md:text-left">
        <h2 class="text-6xl font-extrabold mb-6 text-3d animate-scale-up">
          {{ _('Welcome to') }} <span class="text-blue-800">{{ _('Diabetes Care') }}</span>
        </h2>
        <p class="text-xl text-gray-700 mb-10">
          {{ _('Your one-stop solution for prediction, lifestyle advice, AI-powered chatbot, and real-time health data insights.') }}
        </p>

        <div class="flex flex-wrap justify-center md:justify-start gap-4">
          <a href="/index" class="btn-3d bg-blue-700 text-white px-8 py-3 rounded-lg">{{ _('Prediction') }}</a>
          <a href="/life" class="btn-3d bg-green-700 text-white px-8 py-3 rounded-lg">{{ _('Lifestyle') }}</a>
          <a href="/chatbot" class="btn-3d bg-purple-700 text-white px-8 py-3 rounded-lg">{{ _('Chatbot') }}</a>
          <a href="/explore" class="btn-3d bg-indigo-700 text-white px-8 py-3 rounded-lg">{{ _('Explore') }}</a>
          <a href="/forum" class="btn-3d bg-red-700 text-white px-8 py-3 rounded-lg">{{ _('Forum') }}</a>
        </div>
      </div>

    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-blue-900 text-blue-300 py-10">
    <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8 px-6">

      <div class="text-center md:text-left max-w-md">
        <h2 class="text-white text-3xl font-semibold">Anshika Singh</h2>
        <p class="mt-2 text-blue-200">
          {{ _('Passionate about healthcare and AI.') }}<br>
          {{ _('Building smart solutions for meaningful impact.') }}
        </p>
      </div>

      <div class="text-center md:text-right">
        <h3 class="text-white text-xl mb-2">{{ _('Connect with me') }}</h3>
        <a
          href="https://www.linkedin.com/in/anshika-singh-031b132a5/"
          target="_blank"
          class="text-blue-300 hover:text-blue-400"
        >
          LinkedIn
        </a>
      </div>

    </div>

    <p class="mt-8 text-center text-sm text-blue-400">
      2025 {{ _('Diabetes Care Platform') }}
    </p>
  </footer>

  <script>
    // Toggle language dropdown
    document.getElementById('lang-btn').addEventListener('click', function(e) {
      e.stopPropagation();
      document.getElementById('lang-dropdown').classList.toggle('show');
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', function() {
      document.getElementById('lang-dropdown').classList.remove('show');
    });
    
    // Set language via API
    function setLanguage(langCode) {
      fetch('/api/set-language', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ language: langCode })
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          window.location.reload();
        }
      })
      .catch(err => console.error('Language switch failed:', err));
    }
  </script>

</body>
</html>
